---
title: "nginx 常用命令"
description: "总结 nginx 的常用命令，包括重启、配置文件检查以及代理配置示例。"
date: 2024-05-11
tags: ["linux", "nginx"]
categories: ["nginx"]
---

### 一、重启

```shell
/usr/nginx/sbin/nginx -s reload
```

### 二、判断配置文件是否正确

```shell
nginx -t -c /usr/nginx/conf/nginx.conf
```

或者

```shell
/usr/nginx/sbin/nginx -t
```

### 三、代理配置

```shell
server {
    listen 80;
    server_name yourdomain.com;

    location / {
        proxy_pass http://localhost:8080;  # Spring Boot 应用的地址
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
        proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header X-Forwarded-Proto $scheme;
    }
}
```

`proxy_set_header` 可以代理访问权限和请求头，如后端加了白名单，此处配置就很必要。

